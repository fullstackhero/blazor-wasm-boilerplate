@page "/account"
@inject Microsoft.Extensions.Localization.IStringLocalizer<Account> localizer
<FshTitle Title="@localizer["Account"]" Description="@localizer["Manage your account"]" />
 @if (!AccountManagementDisabled)
{
    <MudTabs Elevation="25" Color="Color.Transparent" Rounded="true" PanelClass="mt-6">
        <MudTabPanel Text="@localizer["Profile"]">
            <Profile />
        </MudTabPanel>
        <MudTabPanel Text="@localizer["Security"]">
            <Security />
        </MudTabPanel>
        <MudTabPanel Text="@localizer["Forgot Password"]">
            <ForgotPassword />
        </MudTabPanel>
    </MudTabs>
}
else
{
        <MudAlert Severity="Severity.Error">Account Managed by an External Service.</MudAlert>
}

@code
{
    [Inject]
    public IAuthenticationService AuthService { get; set; } = default!;
    public bool AccountManagementDisabled { get; set; } = false;
    protected override void OnInitialized()
    {
        if (AuthService.ProviderType == AuthProvider.AzureAd)
        {
            AccountManagementDisabled = true;
        }
    }
}